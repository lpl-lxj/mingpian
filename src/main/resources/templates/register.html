<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>注册界面</title>
        <link rel="stylesheet" href="/css/register.css">
        <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        
    </head>
    <body>
        <div class="top">
            <a href="#">个人名片系统</a>
            <div class="login-box">
            </div>
        </div>
        <div class="body">
            <div class="left">
            </div>
            <div class="fenge"></div>
            <div class="right">
                <form action="/register_ing" class="register" id="register" method="post">
                    <div class="in">
                        <h3 style="margin: 0; padding-bottom: 5%; padding-left: 16%;">用户注册</h3>
                        <div class="input-group input-group-sm">
                            <span>用户名　</span>
                            <input id="user"  type="text" class="form-control" name="user_name" placeholder="Username" aria-describedby="basic-addon1">
                        </div>
                        <div class="fenge"></div>
                        <div class="input-group input-group-sm">
                            <span>密　　码</span>
                            <input  type="password" class="form-control" id="pwd1" name="user_pwd" placeholder="Password" aria-describedby="basic-addon1">
                        </div>
                        <div class="fenge"></div>
                        <div class="input-group input-group-sm">
                            <span>确认密码</span>
                            <input  type="password" class="form-control" id="pwd2" name="check_pwd" placeholder="Again Password " aria-describedby="basic-addon1">
                        </div>
                    </div>
                    <div class="fenge"></div>
                    <div class="sub">
                        <div class="btn-group" role="group" aria-label="..." >
                            <button type="button" class="btn btn-primary" onclick="check()" >　　　　　　注 册　　　　　　</button>
                        </div> 
                    </div>
                    <div class="register_a">
                        <a href="/login">已有账号?去登陆</a>
                    </div>
                    
                </form>
            </div>
        </div>
    </body>
    <script>
        document.onreadystatechange = function () {
            if (document.readyState == "complete") {
                document.body.style.display = "block";
            } else {
                document.body.style.display = "none";
            };
        };
        function check() {
            var user = document.getElementById("user").value;
            var pwd1 = document.getElementById("pwd1").value;
            var pwd2 = document.getElementById("pwd2").value;
            if(user==""||pwd1 == ""||pwd2=="")//任意为空
            {
                if (user == ""){
                    alert("用户名不能为空！");
                    return;
                }
                if (pwd1 == ""){
                    alert("密码不能为空");
                    return;
                }
                if (pwd2 == ""){
                    alert("确认密码不能为空！");
                    return;
                }
            }
            else
            {
                if ((/[^\a-\z\A-\Z0-9\@\.]/g.test(user))){
                    alert("用户名不能包含英文、数字、@符号和.符号以外的字符！");
                }
                else
                {
                    if(pwd1==pwd2)
                    {
                        // //移除验证框
                        // document.getElementById("pwd2").remove();
                        // //提交表单
                        document.getElementById("register").submit();
                    }
                    else
                    {
                        alert("两次密码不相同！");
                    }
                }
            }
        }
    </script>
</html>